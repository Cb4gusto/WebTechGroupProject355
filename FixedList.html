<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Harshad and Eric's Webpage</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" charset="utf-8"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" charset="utf-8"></script>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,900|Ubuntu" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    #a { display: none; }
    #btnDownload {display:none;}
    #ddlFormat {
      display:none;
    }
</style>
</head>

<body>
  <div class="container-fluid">
    <nav class="navbar navbar-expand-lg navbar-light"> <a class="navbar-brand" href="index.html">SARA(Search And Reporting Application)</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler"
        aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
      <div class="collapse navbar-collapse" id="navbarToggler">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Course </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="https://learn.zybooks.com/zybook/CUNYCSCI355TeitelmanSpring2019" target="_blank">ZyBook</a> </div>
          </li>
          <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Search </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="FixedList.html">Fixed List</a> <a class="dropdown-item" href="FromFile.html">From File</a> <a class="dropdown-item" href="#">Google API</a> <a
                class="dropdown-item" href="#">My Search Engine</a> </div>
          </li>
          <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Browser </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="navigator.html">Navigator*</a> <a class="dropdown-item" href="window.html">Window</a> <a class="dropdown-item" href="screen.html">Screen</a> <a
                class="dropdown-item" href="location.html">Location</a> <a class="dropdown-item" href="geolocation.html">Geolocation</a> </div>
          </li>
          <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> About </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="aboutHK.html">Harshad Kapoor</a> <a class="dropdown-item" href="mailto:harshadkapoor7@hotmail.com?subject=feedback">Contact Harshad via Email</a>
              <a class="dropdown-item" href="aboutEM.html">Eric Munevar</a> <a class="dropdown-item" href="mailto:ericmunevar@yahoo.com?subject=feedback">Contact Eric via Email</a> </div>
          </li>
        </ul>
      </div>
    </nav>
    <div class="form-group">
      <div class="row">
        <div class="col-md-4"> <input type="text" class="form-control" placeholder="Soccer" readonly> </div>
        <div class="col-md-4"> <button class="btn btn-primary" onclick="toggleResults()">Search</button> </div>
        <div class="col-md-4">
          <div class="row">
            <div class="col-md-6">
              <select id="ddlFormat" class="form-control">
                <option value="CSV">CSV</option>
                <option value="JSON">JSON</option>
                <option value="XML">XML</option>
              </select>
            </div>
            <div class="col-md-6">
              <button class="btn btn-primary" onclick="downloadResults()" id="btnDownload">Download</button>
            </div>
            <a href="" id="a" download>Click here to download your file</a>
          </div>

        </div>
      </div>
      <br />


    </div>
    <section id="search-results">
      <div class="result">
        <div class="title"> <a href="#">Soccer Scores ESPN</a> </div>
        <div class="url"> www.espn.com/scores </div>
        <div class="description">
          <p> Real-time Soccer Game scores on ESPN </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">Association football - Wikipedia</a> </div>
        <div class="url"> https://en.wikipedia.org/wiki/Association_football </div>
        <div class="description">
          <p> Association football, more commonly known as football or soccer, is a team sport played with a spherical ball between two teams of eleven players. It is played ... </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">FIFA - Soccer News, Scores, Stats, Standings, and Rumors - CBS Sports</a> </div>
        <div class="url"> https://www.cbssports.com/soccer/ </div>
        <div class="description">
          <p> CBS Sports has the latest Soccer news, live scores, player stats, standings, fantasy games, and projections. </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">SOCCER.COM® Official Site | Largest Soccer Gear Selection</a> </div>
        <div class="url"> https://www.soccer.com/ </div>
        <div class="description">
          <p> Footwear, Apparel, Equipment & More From Your Favorite Brands At SOCCER.COM®! </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">Soccer | FOX Sports</a> </div>
        <div class="url"> https://www.foxsports.com/soccer </div>
        <div class="description">
          <p> Find live Soccer scores, Soccer player; team news, Soccer videos, rumors, stats, standings, team schedules; fantasy games on FOX Sports. </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">Live Soccer Scores, Fixtures & Results | Goal.com</a> </div>
        <div class="url"> https://www.goal.com/en-us/live-scores </div>
        <div class="description">
          <p> Get the latest live soccer scores, results & fixtures from across the world, including UEFA Champions League, powered by Goal.com. </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">Watch Live Soccer Games Online | Start Your 7-Day Free Trial</a> </div>
        <div class="url"> https://www.fubo.tv/lp/soccer </div>
        <div class="description">
          <p> Watch the Best of Live Soccer with fuboTV. Stream over 100 live channels with fuboTV. Start a 7 Day Free Trial. The Top Soccer Leagues. Never Miss A Game w/ DVR. Brands: FOX, NBC, CBS, TNT, beIN SPORTS. </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">Find NYC Soccer League | Manhattan, Brooklyn, Queens | ZogSports</a> </div>
        <div class="url"> https://www.zogsports.com/nyc/sports/soccer.aspx </div>
        <div class="description">
          <p> NYC soccer league with trained referees, great field locations and divisions for every skill level. </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">MLS Soccer</a> </div>
        <div class="url"> https://www.mlssoccer.com/ </div>
        <div class="description">
          <p> Colorado RapidsFC DallasHouston DynamoLos Angeles FCLA GalaxyMinnesota United FCPortland TimbersReal Salt LakeSan Jose EarthquakesSeattle ... </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
      <div class="result">
        <div class="title"> <a href="#">Soccer - City Parks FoundationCity Parks Foundation</a> </div>
        <div class="url"> https://cityparksfoundation.org/soccer/ </div>
        <div class="description">
          <p> Soccer is about teamwork, running, and agility. Our program teaches and celebrates all. Our coaches will be joined by those from the NYC Football Club to teach ... </p>
        </div>
        <input type="checkbox" class="chkbox" checked>
      </div>
    </section>
  </div>
  <script type="text/javascript">
    $(document).ready(function() {
      $(".result").hide();
    });

    function downloadResults() {
      var formatToDownload = $("#ddlFormat option:selected").text();
      var arrayOfTitles = $(".result .title a");
      var arrayOfURLS = $(".result .url");
      var arrayOfDescriptions = $(".result .description p");
      var arrayOfCheckboxes = $(".result input");
      var length = arrayOfTitles.length;
      if (formatToDownload === "XML") {
        var downloadDoc = "<?xml version='1.0' encoding='UTF-8'?><results>";
        //in a loop access it by index.innerHTML
        for (var i = 0; i < length; i++) {
          var checked = arrayOfCheckboxes[i].checked;
          if (checked) {
            downloadDoc += "<result><title>"
            var title = arrayOfTitles[i].innerHTML;
            var url = arrayOfURLS[i].innerHTML;
            var desc = arrayOfDescriptions[i].innerHTML;
            downloadDoc += title + "</title><url>" + url + "</url><description>" + desc + "</description></result>";

          }
        }
        downloadDoc += "</results>";
        download(downloadDoc, 'downloadResults.xml', 'text/xml')
      }
      else if (formatToDownload === "JSON"){
        var downloadDoc = '{"Result" : [';
        for(var i = 0; i < length; i++){
          var checked = arrayOfCheckboxes[i].checked;
          if (checked) {
            var title = arrayOfTitles[i].innerHTML;
            var url = arrayOfURLS[i].innerHTML;
            var desc = arrayOfDescriptions[i].innerHTML;
            downloadDoc += '{"title":"' + title + '", "url":"' + url + '", "description":"' + desc + '"}';
            if(i!== length-1){
              downloadDoc+= ',';
            }
          }
        }
        downloadDoc += "]}";
        download(downloadDoc, 'downloadResults.json', 'text/JSON')
      }
    }

    function download(text, name, type) {
      var a = document.getElementById("a");
      a.style.display = "block";
      var file = new Blob([text], {
        type: type
      });
      a.href = URL.createObjectURL(file);
      a.download = name;
    }


    function toggleResults() {
      $(".result").toggle();
      $("#btnDownload").toggle();
      $("#ddlFormat").toggle();
    }
  </script>
</body>

</html>
